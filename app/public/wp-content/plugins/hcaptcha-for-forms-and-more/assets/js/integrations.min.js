(()=>{function t(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,i,o,r,c=[],s=!0,l=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=o.call(a)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(l)throw i}}return c}}(t,a)||function(t,a){if(t){if("string"==typeof t)return e(t,a);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,a):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}var a=function(e){var a="#hcaptcha-message",n=e(a),i=e("#wpwrap"),o=e("#adminmenuwrap"),r=e("#hcaptcha-integrations-search");function c(t,a){n.removeClass(),n.addClass(a+" notice settings-error is-dismissible"),n.html("<p>".concat(t,"</p>")),e(document).trigger("wp-updates-notice-added");var r=n.clone();n.css("visibility","hidden"),r.css("margin","0px"),r.css("top",i.position().top),r.css("z-index","999999");var c="block"===o.css("display")?o.width():0;r.css("left",c),r.width(e(window).width()-c),r.css("position","fixed"),e("body").append(r),setTimeout((function(){n.css("visibility","unset"),r.remove()}),3e3)}function s(t){c(t,"notice-error")}function l(t){return t.is(jQuery(".form-table").eq(0))}function h(t,a,n){var i=!1,o=a.toLowerCase(),r=!l(t),c=n.find("fieldset");c.attr("disabled",r),c.find("input").attr("disabled",r),t.find("tbody").children().each((function(t,a){var r=e(a).find(".hcaptcha-integrations-logo img").attr("alt");if((r=(r=r||"").replace(" Logo","")).toLowerCase()>o)return n.insertBefore(e(a)),i=!0,!1})),i||t.find("tbody").append(n)}e(".form-table img").on("click",(function(i){function o(){r(!0)}function r(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=p?"on":"off";n=a?"install":n;var i,o,r=(o=document.querySelector(".kagg-dialog select"))&&null!==(i=o.value)&&void 0!==i?i:"",d={action:HCaptchaIntegrationsObject.action,nonce:HCaptchaIntegrationsObject.nonce,install:a,activate:p,entity:u,status:b,newTheme:r};m.addClass(n),e.post({url:HCaptchaIntegrationsObject.ajaxUrl,data:d}).done((function(a){if(void 0!==a.success)if(void 0!==a.data.themes&&(HCaptchaIntegrationsObject.themes=a.data.themes,HCaptchaIntegrationsObject.defaultTheme=a.data.defaultTheme),a.success){var n=e(".form-table").eq(p?0:1);!function(t,a,n){if("theme"===a){var i=e(".form-table"),o=t?"":'[data-label="'+n+'"]',r=i.eq(t?0:1).find('.hcaptcha-integrations-logo img[data-entity="theme"]'+o);if(r.length){var c=i.eq(t?1:0),s=r.closest("tr");h(c,r.attr("data-label"),s)}}}(p,u,r),h(n,f,m),function(t){c(t,"notice-success")}(a.data.message),function(a){for(var n=e(".form-table"),i=0,o=Object.entries(a);i<o.length;i++){var r=t(o[i],2),c=r[0],s=r[1],d="hcaptcha-integrations-"+c.replace(/_/g,"-"),u=e("tr.".concat(d)),f=u.find(".hcaptcha-integrations-logo"),g=l(u.closest(".form-table"));s&&f.attr("data-installed",!0),g!==s&&h(n.eq(s?0:1),f.find("img").attr("alt"),u)}}(a.data.stati),e("html, body").animate({scrollTop:m.offset().top-hCaptchaSettingsBase.getStickyHeight()},1e3)}else{var i,o;s(null!==(i=null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==i?i:a.data)}else c(HCaptchaIntegrationsObject.unexpectedErrorMsg,"notice-error")})).fail((function(t){s(t.statusText)})).always((function(){m.removeClass("install on off")}))}i.preventDefault(),n.remove(),e('<div id="hcaptcha-message"></div>').insertAfter(".hcaptcha-header-bar"),n=e(a);var d=e(i.target),u=d.data("entity");if(u=u||"",-1!==e.inArray(u,["core","theme","plugin"])&&-1===e.inArray(u,["core"])){var f=d.attr("alt");f=(f=f||"").replace(" Logo","");var g,p,m=d.closest("tr"),v=m.attr("class").match(/hcaptcha-integrations-([a-z0-9-]+)/),b=v?v[1]:"",y="";if(m.find("fieldset").attr("disabled"))g="plugin"===u?HCaptchaIntegrationsObject.activatePluginMsg:HCaptchaIntegrationsObject.activateThemeMsg,p=!0;else{if("plugin"===u)g=HCaptchaIntegrationsObject.deactivatePluginMsg;else{for(var C in g=HCaptchaIntegrationsObject.deactivateThemeMsg,y="<p>"+HCaptchaIntegrationsObject.selectThemeMsg+"</p>",y+="<select>",HCaptchaIntegrationsObject.themes){var j=C===HCaptchaIntegrationsObject.defaultTheme?' selected="selected"':"";y+='<option value="'.concat(C,'"').concat(j,">").concat(HCaptchaIntegrationsObject.themes[C],"</option>")}y+="</select>"}p=!1}if(-1===e.inArray(u,["theme"])||p||0!==Object.keys(HCaptchaIntegrationsObject.themes).length){if("false"===m.find(".hcaptcha-integrations-logo").attr("data-installed"))return i.ctrlKey?void o():(g=(g="plugin"===u?HCaptchaIntegrationsObject.installPluginMsg:HCaptchaIntegrationsObject.installThemeMsg).replace("%s",f),void kaggDialog.confirm({title:g,content:y,type:"install",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText},cancel:{text:HCaptchaIntegrationsObject.CancelBtnText}},onAction:function(t){t&&o()}}));i.ctrlKey?r():(g=g.replace("%s",f),kaggDialog.confirm({title:g,content:y,type:p?"activate":"deactivate",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText},cancel:{text:HCaptchaIntegrationsObject.CancelBtnText}},onAction:function(t){t&&r()}}))}else kaggDialog.confirm({title:HCaptchaIntegrationsObject.onlyOneThemeMsg,content:"",type:"info",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText}}})}}));var d,u,f;r.on("input",(d=function(){var t=r.val().trim().toLowerCase(),a=e(".hcaptcha-integrations-logo img"),n=null;if(a.each((function(a,i){var o=e(i);if("core"!==o.data("entity")){var r=o.closest("tr");o.data("label").toLowerCase().includes(t)?(r.show(),n=null!=n?n:r):r.hide()}})),n){var i=n.offset().top+n.outerHeight()-e(window).height()+5;e("html").stop().animate({scrollTop:i},1e3)}},u=100,function(){var t=this,e=arguments;clearTimeout(f),f=setTimeout((function(){return d.apply(t,e)}),u)})),e("#hcaptcha-options").keydown((function(t){e(t.target).is(r)&&13===t.which&&t.preventDefault()}))};window.hCaptchaIntegrations=a,jQuery(document).ready(a)})();